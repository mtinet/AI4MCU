<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content = "AI4MCU는 학생들이 쉽게 인공지능 애플리케이션을 만들고, 아두이노, 마이크로비트, Raspberry Pi Pico W 같은 MCU를 직접 제어할 수 있게 돕는 무료 교육용 웹서비스입니다. 인공지능의 원리를 배웠다면 이제 인공지능이 내장된 지능화사물을 직접 만들어 볼 수 있습니다. ">
    <title data-translate-key="main_title">AI4MCU:초중고학생을 위한 마이크로비트, 아두이노를 인공지능으로 쉽게 제어할 수 있게 도와주는 무료 교육용 웹서비스</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&display=swap" rel="stylesheet">
    <style>
        body {
            font-family: 'Noto Sans KR', sans-serif;
        }
        .service-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }
        .service-card:hover {
            transform: translateY(-10px);
            box-shadow: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
        }
        .service-card.disabled {
            background-color: #e5e7eb; /* bg-gray-200 */
            cursor: not-allowed;
        }
        .service-card.disabled:hover {
            transform: none;
            box-shadow: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
        }
        /* 타이틀 애니메이션을 위한 CSS */
        #main-title {
            transition: opacity 0.5s ease-in-out;
        }
    </style>
    <link rel="canonical" href="https://ai4mcu.github.io/">

    <!-- 파비콘 설정 -->
    <link rel="icon" type="image/x-icon" href="favicon.ico">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="manifest" href="site.webmanifest">

    <script type="application/ld+json">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>인공지능교육 | 티처블머신 피지컬컴퓨팅 AIoT 개발 플랫폼</title>
    <meta name="description" content="인공지능교육을 위한 티처블머신 기반 음성인식, 얼굴인식 AI앱 개발. 마이크로비트 제어, 아두이노, Raspberry Pi Pico W 제어를 통한 AIoT 지능화사물 피지컬컴퓨팅 교육 플랫폼">
    <meta name="keywords" content="인공지능교육, 피지컬컴퓨팅, AIoT, 지능화사물, 개발, 티처블머신, 음성인식, 얼굴인식, AI앱, 마이크로비트 제어, 아두이노 제어, Raspberry Pi Pico W 제어">

    <meta property="og:title" content="인공지능교육 | 티처블머신 피지컬컴퓨팅 AIoT 개발 플랫폼">
    <meta property="og:description" content="인공지능교육을 위한 티처블머신 기반 음성인식, 얼굴인식 AI앱 개발. 마이크로비트 제어, 아두이노 제어, Raspberry Pi Pico W 제어를 통한 AIoT 지능화 사물 피지컬컴퓨팅 교육">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://ai4mcu.github.io/">
    <meta property="og:image" content="https://ai4mcu.github.io/images/og-image.png">

    <meta name="robots" content="index, follow">
    <meta name="author" content="AI4MCU">
    <link rel="canonical" href="https://ai4mcu.github.io/">

    <script type="application/ld+json">
    {
        "@context": "https://schema.org",
        "@type": "EducationalOrganization",
        "name": "AI4MCU - 인공지능교육 플랫폼",
        "description": "티처블머신 기반 인공지능교육, 피지컬컴퓨팅, AIoT 개발 교육",
        "url": "https://ai4mcu.github.io/",
        "sameAs": [
            "https://github.com/ai4mcu"
        ],
        "offers": {
            "@type": "Offer",
            "category": "인공지능교육, 피지컬컴퓨팅",
            "description": "음성인식, 얼굴인식 AI앱 개발 및 마이크로비트, 아두이노 제어, Raspberry Pi Pico W제어"
        }
    }
    </script>
</head>
<body class="bg-gray-100">
    <div class="container mx-auto p-4 md:p-8">
        <header class="text-center mb-12">
            <h1 id="main-title" class="text-4xl md:text-6xl font-black text-gray-800" data-translate-key="main_title">AI-EDU-KIT for MCU</h1>
            <p class="text-lg text-gray-500 mt-4" data-translate-key="main_subtitle">영상처리 인공지능을 활용해 하드웨어를 제어하는 멋진 경험을 해보세요.</p>
            <p class="text-lg text-gray-500 mt-4" data-translate-key="main_description">마이크로비트, 아두이노, ESP32, Raspberry Pi Pico W를 유선과 무선으로 연결해 제어할 수 있어요. </p>
        </header>

        <div class="grid grid-cols-1 md:grid-cols-2 gap-8">

            <a href="TM_AllinOne4MCU.html" class="service-card block bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col">
                <div class="p-8 flex-grow">
                    <div class="flex items-center mb-4">
                        <div class="bg-green-100 text-green-800 p-3 rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z" /></svg>
                        </div>
                        <div class="ml-4 flex-1">
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                                <h2 class="text-2xl font-bold text-gray-800 mb-2 sm:mb-0" data-translate-key="tm_title">TM 올인원 서비스</h2>
                                <img src="TM.png" alt="Teachable Machine" class="h-8 sm:h-10 w-auto object-contain" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600" data-translate-key="tm_description">Teachable Machine으로 학습한 이미지, 포즈, 음성 모델을 사용하여 MCU를 제어합니다.</p>
                </div>
                <div class="bg-green-500 text-white text-center font-bold py-2" data-translate-key="go_to_service">
                    서비스 바로가기
                </div>
            </a>

            <a href="FACE_AllinOne4MCU.html" class="service-card block bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col">
                <div class="p-8 flex-grow">
                    <div class="flex items-center mb-4">
                        <div class="bg-blue-100 text-blue-800 p-3 rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M14.828 14.828a4 4 0 01-5.656 0M9 10h.01M15 10h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z" /></svg>
                        </div>
                        <div class="ml-4 flex-1">
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                                <h2 class="text-2xl font-bold text-gray-800 mb-2 sm:mb-0" data-translate-key="face_title">얼굴 인식 올인원 서비스</h2>
                                <img src="MP.png" alt="MediaPipe" class="h-8 sm:h-10 w-auto object-contain" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600" data-translate-key="face_description">MediaPipe 미간 좌표, 하품, 눈 깜박임, 얼굴 개수, 크기 등을 사용하여 MCU를 제어합니다.</p>
                </div>
                <div class="bg-blue-500 text-white text-center font-bold py-2" data-translate-key="go_to_service">
                    서비스 바로가기
                </div>
            </a>

            <a href="HAND_AllinOne4MCU.html" class="service-card block bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col">
                <div class="p-8 flex-grow">
                    <div class="flex items-center mb-4">
                        <div class="bg-yellow-100 text-yellow-800 p-3 rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 15l-2 5L9 9l11 4-5 2zm0 0l5 5M7.188 2.239l.777 2.897M5.136 7.965l-2.898-.777M13.95 4.05l-2.122 2.122m-5.657 5.656l-2.12 2.122" />
                            </svg>
                        </div>
                        <div class="ml-4 flex-1">
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                                <h2 class="text-2xl font-bold text-gray-800 mb-2 sm:mb-0" data-translate-key="hand_title">손가락인식 올인원 서비스</h2>
                                <img src="MP.png" alt="MediaPipe" class="h-8 sm:h-10 w-auto object-contain" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600" data-translate-key="hand_description">MediaPipe로 검지좌표, 엄지-검지 길이, 카운팅, 양손 등을 사용하여 MCU를 제어합니다.</p>
                </div>
                <div class="bg-yellow-500 text-white text-center font-bold py-2" data-translate-key="go_to_service">
                    서비스 바로가기
                </div>
            </a>

            <a href="VOICE_AllinOne4MCU.html" class="service-card block bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col">
                <div class="p-8 flex-grow">
                    <div class="flex items-center mb-4">
                        <div class="bg-red-100 text-red-800 p-3 rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                              <path stroke-linecap="round" stroke-linejoin="round" d="M19 11a7 7 0 01-7 7m0 0a7 7 0 01-7-7m7 7v4m0 0H8m4 0h4m-4-8a3 3 0 01-3-3V5a3 3 0 116 0v6a3 3 0 01-3 3z" />
                            </svg>
                        </div>
                        <div class="ml-4 flex-1">
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                                <h2 class="text-2xl font-bold text-gray-800 mb-2 sm:mb-0" data-translate-key="voice_command_title">음성인식 서비스</h2>
                                <img src="voice.png" alt="Voice API" class="h-8 sm:h-10 w-auto object-contain" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600" data-translate-key="voice_command_description">Google의 Web Speech API로 음성인식 결과를 사용하여 MCU를 제어합니다.</p>
                </div>
                <div class="bg-red-500 text-white text-center font-bold py-2" data-translate-key="go_to_service">
                    서비스 바로가기
                </div>
            </a>

            <a href="TOTAL_AllinOne4MCU.html" class="service-card block bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col">
                <div class="p-8 flex-grow">
                    <div class="flex items-center mb-4">
                        <div class="bg-orange-100 text-orange-800 p-3 rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M11 4a2 2 0 114 0v1a1 1 0 001 1h3a1 1 0 011 1v3a1 1 0 01-1 1h-1a2 2 0 100 4h1a1 1 0 011 1v3a1 1 0 01-1 1h-3a1 1 0 01-1-1v-1a2 2 0 10-4 0v1a1 1 0 01-1 1H7a1 1 0 01-1-1v-3a1 1 0 00-1-1H4a2 2 0 110-4h1a1 1 0 001-1V7a1 1 0 011-1h3a1 1 0 001-1V4z" />
                            </svg>
                        </div>
                        <h2 class="text-2xl font-bold text-gray-800 ml-4" data-translate-key="service5_title">다양한 인식 서비스</h2>
                    </div>
                    <p class="text-gray-600" data-translate-key="service5_description">컬러, 얼굴, 색상, 도형, 라인, 번호판, 필기숫자 등을 사용하여 MCU를 제어합니다.</p>
                </div>
                <div class="bg-orange-500 text-white text-center font-bold py-2" data-translate-key="go_to_service">
                    서비스 바로가기
                </div>
            </a>

            <a href="01_guide/GUIDE_AllinOne4MCU.html" class="service-card block bg-white rounded-2xl shadow-lg overflow-hidden flex flex-col">
                <div class="p-8 flex-grow">
                    <div class="flex items-center mb-4">
                        <div class="bg-purple-100 text-purple-800 p-3 rounded-full">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-8 w-8" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M10 20l4-16m4 4l4 4-4 4M6 16l-4-4 4-4" />
                            </svg>
                        </div>
                        <div class="ml-4 flex-1">
                            <div class="flex flex-col sm:flex-row sm:items-center sm:justify-between">
                                <h2 class="text-2xl font-bold text-gray-800 mb-2 sm:mb-0" data-translate-key="mcu_guide_title">사용법 안내</h2>
                                <img src="MCU.png" alt="MCU Coding" class="h-8 sm:h-10 w-auto object-contain" onerror="this.style.display='none'">
                            </div>
                        </div>
                    </div>
                    <p class="text-gray-600" data-translate-key="mcu_guide_description">인공지능서비스와 연계된 지능화 사물을 개발하기 위한 MCU코딩 및 연결 방법을 안내합니다.</p>
                </div>
                <div class="bg-purple-500 text-white text-center font-bold py-2" data-translate-key="go_to_service">
                    서비스 바로가기
                </div>
            </a>
            </div>

        <div id="adminPanel" class="hidden text-center mt-8">
            <button id="showLogBtn" class="bg-red-600 hover:bg-red-700 text-white font-bold py-2 px-4 rounded text-sm transition-colors" data-translate-key="admin_log_button">
                🔒 관리자 로그
            </button>
            <button id="downloadLogBtn" class="bg-green-600 hover:bg-green-700 text-white font-bold py-2 px-4 rounded text-sm ml-2 transition-colors" data-translate-key="download_csv_button">
                📄 CSV 다운로드
            </button>
        </div>

        <div id="logModal" class="fixed inset-0 bg-black bg-opacity-50 hidden items-center justify-center z-50" style="display: none;">
            <div class="bg-white rounded-lg p-6 max-w-4xl w-full mx-4 max-h-96 overflow-y-auto">
                <div class="flex justify-between items-center mb-4">
                    <h3 class="text-xl font-bold" data-translate-key="admin_log_title">관리자 방문자 로그</h3>
                    <button id="closeLogBtn" class="text-gray-500 hover:text-gray-700 text-2xl">&times;</button>
                </div>
                <div id="logContent" class="text-sm">
                </div>
            </div>
        </div>

        <footer class="text-center mt-12 text-gray-500">
            <p data-translate-key="footer_copyright">&copy; 2025 AI-EDU-KIT. All Rights Reserved.</p>
            <p class="text-sm mt-2" data-translate-key="footer_developed_by">Developed by Seok-jeon Kim : alphaco@kakao.com</p>
            <p class="text-sm mt-1">Modified by Juhyun Kim : mtinet@hanmail.net</p>

            <div class="mt-4 text-xs text-gray-400">
                <span data-translate-key="visitors_total">총 방문: </span>
                <span id="totalVisitors" class="font-semibold">0</span>
                <span class="mx-2">|</span>
                <span data-translate-key="visitors_today">오늘 방문: </span>
                <span id="todayVisitors" class="font-semibold">0</span>
                <span class="mx-2">|</span>
                <span data-translate-key="visitors_net">순 사용자: </span>
                <span id="netVisitors" class="font-semibold">0</span>
            </div>
        </footer>
    </div>

    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>
    <script src="admin.js"></script>
    <script>
        // --- Firebase 초기화 ---
        const firebaseConfig = {
            apiKey: "AIzaSyA6WrNiDKhCevNhNUq-Vrivs3Of1Ud7VW8",
            authDomain: "aicarcount.firebaseapp.com",
            databaseURL: "https://aicarcount-default-rtdb.firebaseio.com",
            projectId: "aicarcount",
            storageBucket: "aicarcount.firebasestorage.app",
            messagingSenderId: "37092514292",
            appId: "1:37092514292:web:803dbafdf32038f7ee81a1",
            measurementId: "G-VW6LKK6VE4"
        };
        firebase.initializeApp(firebaseConfig);
        const database = firebase.database();

        // --- 방문자 통계 처리 ---
        (async function handleVisitor() {
            const statsRef = database.ref('visitorStats');
            const logsRef = database.ref('visitorLogs');

            // 1. 실시간으로 통계 데이터를 읽어와 화면에 표시
            statsRef.on('value', (snapshot) => {
                const stats = snapshot.val() || { total: 0, unique: 0, daily: { count: 0, date: '' } };
                const today = new Date().toISOString().slice(0, 10);

                document.getElementById('totalVisitors').textContent = stats.total;
                document.getElementById('netVisitors').textContent = stats.unique; // 순 사용자 수 표시
                document.getElementById('todayVisitors').textContent = (stats.daily.date === today) ? stats.daily.count : 0;
            });

            // 2. 고유 IP 개수를 세어 'unique' 통계 업데이트
            logsRef.on('value', (snapshot) => {
                statsRef.update({ unique: snapshot.numChildren() });
            });

            // 3. 현재 방문자 정보 수집
            async function getVisitorIP() {
                try {
                    const response = await fetch('https://api.ipify.org?format=json');
                    if (response.ok) return (await response.json()).ip;
                } catch (error) {
                    console.warn('IP 주소를 가져오는 데 실패했습니다.', error.message);
                }
                return null;
            }

            const visitorIP = await getVisitorIP();
            if (!visitorIP) {
                console.warn("유효한 공개 IP를 얻지 못해 방문자 기록을 생략합니다.");
                return;
            }

            // 4. IP를 Firebase 키로 변환하고, 해당 IP의 로그 레퍼런스 생성
            const sanitizedIp = visitorIP.replace(/\./g, '_');
            const ipLogRef = logsRef.child(sanitizedIp);

            // 5. IP의 마지막 방문 기록 확인 및 업데이트
            ipLogRef.once('value', (snapshot) => {
                const lastVisitTimestamp = snapshot.val()?.timestamp || 0;
                const oneHourAgo = Date.now() - 3600 * 1000;

                // 마지막 방문이 1시간 이상 지났으면 통계 업데이트
                if (lastVisitTimestamp < oneHourAgo) {
                    statsRef.transaction((currentStats) => {
                        if (!currentStats) {
                            return { total: 1, daily: { date: new Date().toISOString().slice(0, 10), count: 1 } };
                        }
                        const today = new Date().toISOString().slice(0, 10);
                        currentStats.total = (currentStats.total || 0) + 1;
                        if (currentStats.daily && currentStats.daily.date === today) {
                            currentStats.daily.count = (currentStats.daily.count || 0) + 1;
                        } else {
                            currentStats.daily = { date: today, count: 1 };
                        }
                        return currentStats;
                    });
                }

                // 항상 마지막 방문 시간을 현재 시간으로 업데이트
                ipLogRef.set({ timestamp: firebase.database.ServerValue.TIMESTAMP });
            });
        })();

        // 모달 관련 이벤트 리스너 (기존 기능 유지)
        document.addEventListener('DOMContentLoaded', () => {
            const closeLogBtn = document.getElementById('closeLogBtn');
            const logModal = document.getElementById('logModal');

            if(closeLogBtn) {
                closeLogBtn.addEventListener('click', () => {
                    logModal.style.display = 'none';
                });
            }
            if(logModal) {
                logModal.addEventListener('click', (e) => {
                    if (e.target === logModal) {
                        logModal.style.display = 'none';
                    }
                });
            }
        });

        // ### 타이틀 애니메이션 스크립트 (기존 기능 유지) ###
        document.addEventListener('DOMContentLoaded', () => {
            const titleElement = document.getElementById('main-title');
            if (titleElement) {
                const titles = [
                    "AI-EDU-KIT for MCU", "AI4MCU", "Raspberry Pi Pico W와 함께하는 AI고카트", "아두이노를 위한 AI", "마이크로비트를 위한 AI", "인공지능으로 피지컬 컴퓨팅제어", "노코드AI로 제어하는 피지컬컴퓨팅", "지능화사물을 위한 AI"
                ];
                let currentIndex = 0;
                titleElement.removeAttribute('data-translate-key');
                setInterval(() => {
                    titleElement.style.opacity = 0;
                    setTimeout(() => {
                        currentIndex = (currentIndex + 1) % titles.length;
                        titleElement.textContent = titles[currentIndex];
                        titleElement.style.opacity = 1;
                    }, 500);
                }, 5000);
            }
        });
    </script>
</body>
</html>
